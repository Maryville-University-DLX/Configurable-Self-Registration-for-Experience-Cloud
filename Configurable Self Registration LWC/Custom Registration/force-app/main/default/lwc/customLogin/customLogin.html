<template>
	<div lwc:if={anyServerError} role="alert">
		<span class="slds-text-color_destructive">{serverErrorMessage}</span>
	</div>

	<div lwc:if={showSpinner} class="slds-is-relative">
		<lightning-spinner alternative-text="Loading..." role="status">
		</lightning-spinner>
	</div>

	<div class="slds-is-relative">
		<div class="slds-form-element">
			<div class={userNameField_fieldClass}>
				
				<lightning-icon size="x-small" icon-name={userNameField_fieldIconName} title="" class={userNameField_fieldIconClass}></lightning-icon>

				<lightning-input type="text" variant={userNameField_fieldLabelVariant} label={userNameField_fieldLabel} name="Email"
					class="" field-level-help={userNameField_fieldHelpText} placeholder={userNameField_fieldPlaceholder}
					onchange={handleOnChange} message-when-value-missing={userNameField_fieldRequiredMessage}
					pattern={userNameField_fieldPatternMatch}
					message-when-pattern-mismatch={userNameField_fieldPatternMismatchMessage} required>
				</lightning-input>
			</div>
		</div>

		<div class="slds-form-element">
			<div class={passwordField_fieldClass}>
				<!-- Password fields with Show/Hide functionality require special functionality-->
				<div lwc:if={fieldShowPasswordVisibility}>
					<lightning-icon size="x-small" icon-name={passwordIcon} title="Show/Hide Password" onclick={togglePassword}
						class={passwordField_fieldIconClass}></lightning-icon>
				</div>
				<lightning-input type={passwordType} variant={passwordField_fieldLabelVariant} label={passwordField_fieldLabel}
					name="Password" class="" field-level-help={passwordField_fieldHelpText}
					placeholder={passwordField_fieldPlaceholder} onchange={handleOnChange}
					message-when-value-missing={passwordField_fieldRequiredMessage} onkeydown={handleEnter} required>
				</lightning-input>
			</div>
		</div>
		
		<div class="slds-align_absolute-center slds-var-m-top_small">
			<button class="custom-slds-button slds-button slds-button_brand slds-button_stretch" onclick={handleSignUpClick} disabled={isButtonDisabled}>{buttonLabel}</button>
		</div>
	</div>
</template>